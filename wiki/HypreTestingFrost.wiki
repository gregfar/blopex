#summary BLOPEX Hypre 2.4.0b testing on UCAR Frost (IBM)
<wiki:toc max_depth="1" />

= Introduction =

How to test BLOPEX under Beta version of Hypre on Frost (IBM).  Hypre does not support complex arithematic, so this test is only for double precision arithematic.  The test uses BLOPEX with code for both double and complex arithematic.  

= Setup Hypre =  

Follow the instructions in wiki HypreTestingIBM.
 
= Compile Tests =

Follow the instructions in wiki HypreTestingIBM.

= Execution of Tests =

Frost executes mpi jobs under the cobalt batch system.
Jobs are submitted via command cqsub.  

For example to submist struct from the change to the .../src/test subdirectory and issue command:
{{{
cqsub -n 64 -t 00:10:00 -q debug ./struct ...etc...
}}}

A batch job number is returned (say 894111).  Output is returned to current directory.
Output consists of 894111.cobaltlog, 894111.error, and 894111.output

See http://www.cisl.ucar.edu/docs/frost/cbr.jsp for details.

= Test Results =

The tests were executed on UCAR Frost system in May 2009.  This is an Linux operating system and the IBM blrts_xlc compiler was used.   

== STRUCT test ===

cqsub -n 64 -t 00:10:00 -q debug ./struct -solver 10 -n 64 64 64 -P 4 4 4 -lobpcg -pcgitr 0

The eigenvalues computed are
{{{
Eigenvalue lambda       Residual              
4.4827998233195362e-04  5.0116386222357948e-07
}}}

BLOPEX execution times
{{{
6 iterations
=============================================
Solve phase times:
=============================================
PCG Solve:
  wall clock time = 24.970000 seconds
  wall MFLOPS     = 0.000000
  cpu clock time  = 24.970000 seconds
  cpu MFLOPS      = 0.000000
}}}

== IJ test ==

cqsub -n 10 -t 00:30:00 -q debug ./ij -lobpcg -n 50 50 50 -pcgitr 0 -vrand 96 -seed 1

The first few eigenvalues computed are

{{{             
Eigenvalue lambda       Residual              
1.1380027577735524e-02  4.8953228896211462e-09
2.2745665707948184e-02  4.8080683787536503e-09
2.2745665707950547e-02  4.8731466981835209e-09
2.2745665707951498e-02  5.5842846328511003e-09
3.4111303838167462e-02  3.5584516553108105e-09
3.4111303838168378e-02  2.2046853798163786e-09
3.4111303838170785e-02  3.3611868919015555e-09
4.1640485684012692e-02  9.2256238709136002e-09
4.1640485684019603e-02  9.5693929686960105e-09
4.1640485684024946e-02  8.4186723748538326e-10
4.5476941968384962e-02  2.4581281744571527e-09
5.3006123814231462e-02  9.1738386557844093e-10
5.3006123814233613e-02  6.4832308427666968e-09
5.3006123814235417e-02  7.2872194309704641e-09
5.3006123814236715e-02  6.4691616396392048e-}}}

BLOPEX execution times
{{{
62 iterations
LOBPCG Solve:
  wall clock time = 1303.840000 seconds
  wall MFLOPS     = 0.000000
  cpu clock time  = 1303.840000 seconds
  cpu MFLOPS      = 0.000000}}}
